!function(n){"use strict";var e=[];n.onExecute&&n.onExecute(function(){for(;0<e.length;){var n=e;e=[];for(var t=0;t<n.length;++t)n[t]()}});var i,o,t=null==n.onExecute?function(n){n()}:function(n){e.push(n)};function f(n){return Boolean(n&&void 0!==n.length)}function r(){}function c(n){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(n,this)}function u(e,r){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o(function(){var n=1===e._state?r.onFulfilled:r.onRejected;if(null!==n){var t;try{t=n(e._value)}catch(n){return void s(r.promise,n)}a(r.promise,t)}else(1===e._state?a:s)(r.promise,e._value)})):e._deferreds.push(r)}function a(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof c)return t._state=3,t._value=n,void l(t);if("function"==typeof e)return void d((r=e,o=n,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=n,l(t)}catch(n){s(t,n)}var r,o}function s(n,t){n._state=2,n._value=t,l(n)}function l(n){2===n._state&&0===n._deferreds.length&&o(function(){n._handled||c._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)u(n,n._deferreds[t]);n._deferreds=null}function h(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function d(n,t){var e=!1;try{n(function(n){e||(e=!0,a(t,n))},function(n){e||(e=!0,s(t,n))})}catch(n){if(e)return;e=!0,s(t,n)}}i={unhandledPromiseRejection:n.onUnhandledPromiseRejection},o=t,c.prototype["catch"]=function(n){return this.then(null,n)},c.prototype.then=function(n,t){var e=new this.constructor(r);return u(this,new h(n,t,e)),e},c.prototype["finally"]=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},c.all=function(t){return new c(function(r,o){if(!f(t))return o(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return r([]);var c=i.length;function u(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if("function"==typeof e)return void e.call(n,function(n){u(t,n)},o)}i[t]=n,0==--c&&r(i)}catch(n){o(n)}}for(var n=0;n<i.length;n++)u(n,i[n])})},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c(function(n){n(t)})},c.reject=function(e){return new c(function(n,t){t(e)})},c.race=function(o){return new c(function(n,t){if(!f(o))return t(new TypeError("Promise.race accepts an array"));for(var e=0,r=o.length;e<r;e++)c.resolve(o[e]).then(n,t)})},c._unhandledRejectionFn=function(n){if(void 0!==i&&i){var t="",e="rndmmsg",r=new Error(e).stack.toString().includes(e),o="object"==typeof n&&n&&"stack"in n?n:new Error(n&&n.toString());t=r?o.stack.toString():o.message+" "+o.stack.toString(),i.unhandledPromiseRejection(t)}},globalThis["Promise"]=c}(bridge);