var FontsModule=function(e,t,o,i,n){"use strict";var r,l,a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function f(e,t,n,r){var o,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(l=(i<3?o(l):3<i?o(t,n,l):o(t,n))||l);return 3<i&&l&&Object.defineProperty(t,n,l),l}(l=r=r||{})["PENDING"]="PENDING",l["FAILED"]="FAILED",l["AVAILABLE"]="AVAILABLE";var u={0:r.PENDING,1:r.FAILED,2:r.AVAILABLE},c=t.getNativeModule("Fonts"),d=(p.prototype.modelId=function(){return this._ref.id.value},Object.defineProperty(p.prototype,"identifier",{get:function(){return this._ref.constants.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this._ref.constants.name},enumerable:!0,configurable:!0}),f([t.internal,t.nonenumerable],p.prototype,"_ref",void 0),f([t.internal,t.nonenumerable],p.prototype,"modelId",null),f([t.internal,t.nonenumerable],p.prototype,"identifier",null),p);function p(e){this._ref=e}var s,y,g,b=(a(y=m,g=s=d),y.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h),Object.defineProperty(m.prototype,"state",{get:function(){return o.mapScalarToString(this._ref.getScalarSignal("lastState"),u,r.PENDING)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"url",{get:function(){return this._ref.getStringSignal("descriptor/uri")},set:function(e){this._ref.setStringProp("descriptor/uri",e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"fallbackFont",{get:function(){var e=this._ref.getStringSync("fallbackFontIdentifier");return e?v(e):null},set:function(e){if(e){if("localFont"!=e._ref.kind)throw new Error("Fallback font must be a localFont model");this._ref.setStringProp("fallbackFontIdentifier",e.identifier)}else this._ref.setStringProp("fallbackFontIdentifier","")},enumerable:!0,configurable:!0}),m.prototype.preload=function(){return n.eventSourceToPromise(c.preloadFont(this.identifier))},f([t.enumAccessor],m.prototype,"State",void 0),m=f([t.introducedBy(1594774570),t.capability("externalFonts")],m));function h(){this.constructor=y}function m(e){var t=s.call(this,e)||this;return t.State=r,t}function I(e){return new(t.version.hasChange(1594774570)&&t.version.hasCapability("externalFonts")&&"externalFont"==e.kind?b:d)(e)}function v(e){var t=o.model_search.findByIdentifier(new o.model.NodeId(i.fontsChildrenNodeId),e,!1,1);return 1===t.length?I(t[0]):null}var F=(_.prototype.getAll=function(){return this.findUsingPattern("*")},_.prototype.findFirst=function(e){return this.findUsingPattern(e.replace(/\\/g,"\\\\").replace(/\*/g,"\\*"),{limit:1}).then(function(e){return 0==e.length?null:e[0]})},_.prototype.findUsingPattern=function(e,t){var n,r;return Promise.resolve((n=e,r=null==t?void 0:t.limit,o.model_search.findByName(new o.model.NodeId(i.fontsChildrenNodeId),n,!1,r).map(I)))},_=f([t.scriptingModule("Fonts"),t.availableIn(t.DocumentType.Any)],_));function _(){}return e.ExternalFontId=b,e.FontId=d,e.FontsModule=F,e.getFontIdById=v,e}({},arfx,CoreModule,params,ReactiveModule);