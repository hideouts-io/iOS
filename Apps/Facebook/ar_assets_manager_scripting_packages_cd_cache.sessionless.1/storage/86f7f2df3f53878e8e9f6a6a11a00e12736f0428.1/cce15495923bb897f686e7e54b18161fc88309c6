var GalleryTextureModule=function(t,e,r,n){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function a(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;0<=u;u--)(o=e[u])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a}var u=e.getNativeModule("GalleryTexture"),l=(Object.defineProperty(c.prototype,"mediaId",{get:function(){return this.mediaId_},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"mediaType",{get:function(){return this.mediaType_},enumerable:!0,configurable:!0}),a([e.nonenumerable],c.prototype,"mediaId_",void 0),a([e.nonenumerable],c.prototype,"mediaType_",void 0),c);function c(e,t){this.mediaId_=e,this.mediaType_=t}var d,p=(i(f,d=l),f);function f(e){return d.call(this,e,t.GalleryTexture.MediaType.IMAGE)||this}var y,s,g,b,m,h=(i(I,y=l),Object.defineProperty(I.prototype,"playing",{get:function(){return new n.BoolSignal(u.getPlayingSignal(this.mediaId))},set:function(e){u.bindToPlayingSink(this.mediaId,n.ref(e))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"duration",{get:function(){return new n.ScalarSignal(u.getDurationSignal(this.mediaId))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"progress",{get:function(){return new n.ScalarSignal(u.getProgressSignal(this.mediaId))},set:function(e){u.bindToProgressSink(this.mediaId,n.ref(e))},enumerable:!0,configurable:!0}),I.prototype.seek=function(e){return n.eventSourceToPromise(u.seek(this.mediaId,e))},Object.defineProperty(I.prototype,"looping",{get:function(){return new n.BoolSignal(u.getLoopingSignal(this.mediaId))},set:function(e){u.bindToLoopingSink(this.mediaId,n.ref(e))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"onCompleted",{get:function(){return new n.EventSource(u.onCompleted(this.mediaId))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"onLooped",{get:function(){return new n.EventSource(u.onLooped(this.mediaId))},enumerable:!0,configurable:!0}),a([e.introducedBy(3907011608)],I.prototype,"seek",null),I);function I(e){return y.call(this,e,t.GalleryTexture.MediaType.VIDEO)||this}function T(){return null!==s&&s.apply(this,arguments)||this}return t.GalleryTexture=(i(T,s=r.TextureBase),Object.defineProperty(T.prototype,"state",{get:function(){return this._ref.getStringSignal("contentIdentifier").eq("").ifThenElse(T.State.PENDING,T.State.AVAILABLE)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"onMediaChange",{get:function(){return n.mapEventSource(u.onMediaChange(this._ref.id.value),function(e){return function(e,t){switch(t){case 1:return new p(e);case 2:return new h(e);default:throw Error("Incompatible type of GalleryTextureMedia.")}}(e.id,e.type)})},enumerable:!0,configurable:!0}),T),g=t.GalleryTexture||(t.GalleryTexture={}),(b=g.State||(g.State={}))["PENDING"]="PENDING",b["AVAILABLE"]="AVAILABLE",(m=g.MediaType||(g.MediaType={}))["IMAGE"]="IMAGE",m["VIDEO"]="VIDEO",r.registerTextureClass("galleryTexture",t.GalleryTexture),t.GalleryTextureMediaBase=l,t.GalleryTextureMediaImage=p,t.GalleryTextureMediaVideo=h,t}({},arfx,TexturesModule,ReactiveModule);