var LayersModule=function(e,r,n,o,i){"use strict";function t(e,t,r,n){var o,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;0<=u;u--)(o=e[u])&&(l=(i<3?o(l):3<i?o(t,r,l):o(t,r))||l);return 3<i&&l&&Object.defineProperty(t,r,l),l}var l,u;(u=l=l||{})["FAIL_NOT_EMPTY"]="FAIL_NOT_EMPTY",u["MOVE_ABOVE"]="MOVE_ABOVE",u["MOVE_BELOW"]="MOVE_BELOW",u["MOVE_AUTO"]="MOVE_AUTO";var a={FAIL_NOT_EMPTY:0,MOVE_ABOVE:1,MOVE_BELOW:2,MOVE_AUTO:3},f=(l.FAIL_NOT_EMPTY,l.MOVE_ABOVE,l.MOVE_BELOW,l.MOVE_AUTO,r.getNativeModule("Layers")),d=(c.prototype._modelRef=function(){return this._ref},Object.defineProperty(c.prototype,"identifier",{get:function(){return this._ref.constants.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"name",{get:function(){return this._ref.constants.name},enumerable:!0,configurable:!0}),c.prototype.getRenderOrder=function(){return this._ref.getScalar("renderingOrder")},Object.defineProperty(c.prototype,"hidden",{get:function(){return this._ref.getBoolSignal("hidden")},set:function(e){var t=e;t="boolean"==typeof e?r.getModule("Reactive").val(e).not().not():t.not().not(),this._ref.setBoolProp("hidden",t)},enumerable:!0,configurable:!0}),t([r.internal,r.nonenumerable],c.prototype,"_ref",void 0),t([r.internal,r.nonenumerable],c.prototype,"_modelRef",null),t([r.internal,r.nonenumerable],c.prototype,"identifier",null),c=t([r.introducedBy(1239481247),r.capability("layers"),r.availableIn(r.DocumentType.Effect)],c));function c(e){this._ref=e}function p(e){return new d(e)}function y(e,t){return o.model_search.findByName(new o.model.NodeId(i.layersChildrenNodeId),e,!1,t).map(p)}function s(e,t){for(var r in t)if("name"!=r&&"renderOrder"!=r){if(!(r in e))throw"Unexpected property in initial state: "+r;e[r]=t[r]}}var O=(m.prototype.getAll=function(){return Promise.resolve(y("*"))},m.prototype.findFirst=function(e){var t=y(e,1);return 1===t.length?Promise.resolve(t[0]):Promise.resolve(null)},m.prototype.findUsingPattern=function(e,t){return Promise.resolve(y(e,null==t?void 0:t.limit))},m.prototype.moveUp=function(e,t){return n.eventSourceToPromise(f.moveUp(e.identifier,t))},m.prototype.moveDown=function(e,t){return n.eventSourceToPromise(f.moveDown(e.identifier,t))},m.prototype.create=function(r){return n.eventSourceToPromise(f.create(r)).then(function(e){var t=new d(o.model.nodeToModelRef(e));return s(t,r),t})},m.prototype.destroy=function(e,t){return n.eventSourceToPromise(f.destroy(e.identifier,a[t]))},m.prototype.getLayer=function(e){return e._modelRef().getString("layerIdentifier").then(function(e){return t=e,1===(r=o.model_search.findByIdentifier(new o.model.NodeId(i.layersChildrenNodeId),t,!1,1)).length?p(r[0]):null;var t,r})},m.prototype.setLayer=function(e,t){return e._modelRef().setStringAsync("layerIdentifier",t.identifier).then(function(e){})},t([r.enumAccessor,r.introducedBy(1239481247)],m.prototype,"DestroyOption",void 0),m=t([r.scriptingModule("Layers"),r.introducedBy(1239481247),r.capability("layers"),r.availableIn(r.DocumentType.Effect)],m));function m(){this.DestroyOption=l,this.END_COUNT=-1}return e.Layer=d,e.LayersModule=O,e.applyLayerInitialState=s,e}({},arfx,ReactiveModule,CoreModule,params);