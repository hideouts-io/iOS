var PrefabsModule=function(e,o,t,i){"use strict";var r,n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;0<=l;l--)(o=e[l])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a}(r=e.State||(e.State={}))["PENDING"]="PENDING",r["FAILED"]="FAILED",r["AVAILABLE"]="AVAILABLE",r["DEFAULT"]="DEFAULT";var l={0:e.State.PENDING,1:e.State.FAILED,2:e.State.AVAILABLE,3:e.State.DEFAULT},f=(u.prototype.modelId=function(){return this._ref.id.value},Object.defineProperty(u.prototype,"identifier",{get:function(){return this._ref.constants.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this._ref.constants.name},enumerable:!0,configurable:!0}),a([t.internal,t.nonenumerable],u.prototype,"_ref",void 0),a([t.internal,t.nonenumerable],u.prototype,"modelId",null),a([t.internal,t.nonenumerable],u.prototype,"identifier",null),u);function u(e){this._ref=e}var c,p,s,d=(n(p=b,s=c=f),p.prototype=null===s?Object.create(s):(y.prototype=s.prototype,new y),Object.defineProperty(b.prototype,"url",{get:function(){return this._ref.getStringSignal("descriptor/uri")},set:function(e){this._ref.setStringProp("descriptor/uri",e)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"state",{get:function(){return this._ref.getBoolSignal("surfaceMismatch").ifThenElse(e.State.DEFAULT,o.mapScalarToString(this._ref.getScalarSignal("lastState"),l,e.State.DEFAULT))},enumerable:!0,configurable:!0}),b=a([t.availableIn(t.DocumentType.Any)],b));function y(){this.constructor=p}function b(){return null!==c&&c.apply(this,arguments)||this}var g={gltf:d};function h(e){var t=g[e.kind];if(null==t)throw"unexpected prefab type: "+e.kind;return new t(e)}var m=(P.prototype.getAll=function(){return this.findUsingPattern("*")},P.prototype.findFirst=function(e){return this.findUsingPattern(e.replace(/\\/g,"\\\\").replace(/\*/g,"\\*"),{limit:1}).then(function(e){return 0==e.length?null:e[0]})},P.prototype.findUsingPattern=function(e,t){var r,n;return Promise.resolve((r=e,n=null==t?void 0:t.limit,o.model_search.findByName(new o.model.NodeId(i.prefabsChildrenNodeId),r,!1,n).map(h)))},P.prototype._getPrefabById=function(e){var t=o.model_search.findByIdentifier(new o.model.NodeId(i.prefabsChildrenNodeId),e,!1,1);return 1===t.length?h(t[0]):null},a([t.enumAccessor,t.capability("externalMeshes")],P.prototype,"State",void 0),a([t.internal,t.nonenumerable],P.prototype,"_getPrefabById",null),P=a([t.scriptingModule("Prefabs"),t.capability("externalMeshes","objectCapture"),t.availableIn(t.DocumentType.Any),t.extensible],P));function P(){this.State=e.State}return e.Prefab=d,e.PrefabBase=f,e.PrefabsModule=m,e.registerPrefabClass=function(e,t){g[e]=t},e}({},CoreModule,arfx,params);