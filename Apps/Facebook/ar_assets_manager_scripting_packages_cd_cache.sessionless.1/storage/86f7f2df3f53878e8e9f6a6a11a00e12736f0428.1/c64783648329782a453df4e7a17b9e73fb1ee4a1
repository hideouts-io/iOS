var ReactiveModule=function(e,o){"use strict";var t,r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(u=(i<3?o(u):3<i?o(t,n,u):o(t,n))||u);return 3<i&&u&&Object.defineProperty(t,n,u),u}(t=e.AntiderivativeOverflowBehaviour||(e.AntiderivativeOverflowBehaviour={}))["CLAMP"]="CLAMP",t["WRAP"]="WRAP";var u={CLAMP:0,WRAP:1},a=(e.AntiderivativeOverflowBehaviour.CLAMP,e.AntiderivativeOverflowBehaviour.WRAP,p.prototype.valueOf=function(){throw"valueOf() called on a Signal. This probably means that you are trying to perform an arithmetic operation on a signal like +, -, *, etc. Use functions .add, .sub(), etc on the signal instead or .subscribeWithSnapshot() on an EventSource to get the signal's current value on a callback."},i([o.internal],p,"_signalType",void 0),p);function p(){}var l,c=(n(s,l=a),i([o.internal,o.nonenumerable],s.prototype,"_ref",void 0),s=i([o.internal],s));function s(e){var t=l.call(this)||this;return t._ref=e,t}function f(e){var t;return null!=(t=null===e||void 0===e?void 0:e._ref)?t:e}var y=o.getNativeModule("Reactive"),g=(Object.defineProperty(h.prototype,"length",{get:function(){return this._count},enumerable:!0,configurable:!0}),h.prototype.at=function(e){if(e<0)throw"Invalid index '"+e.toString()+"'!";if(e>=this._count)throw"This history object only tracks "+this._count+" frames!";return this._signalFactory(this._tracker.at(e))},h.prototype.frame=function(e){if(0<=e)throw"History can only reference past! Please use negative indexing starting with -1!";if(e<-this._count)throw"This history object only tracks"+this._count+" frames!";return this._signalFactory(this._tracker.at(-e-1))},i([o.nonenumerable],h.prototype,"_count",void 0),i([o.nonenumerable],h.prototype,"_tracker",void 0),i([o.nonenumerable],h.prototype,"_signalFactory",void 0),h);function h(e,t,n,r){this._count=t<0?-t:t,this._tracker=y.signalHistory(e,this._count,null!=n?n:[]),this._signalFactory=null!=r?r:function(e){return e}}var b=(Object.defineProperty(d.prototype,"length",{get:function(){return 0},enumerable:!0,configurable:!0}),d.prototype.at=function(e){throw"EventSourceHistory is a fake."},d.prototype.frame=function(e){throw"EventSourceHistory is a fake."},d);function d(){}function w(e,t,n,r){return o.createProxy(new g(f(e),t,n,r),{get:function(e,t){var n=Number(t);return Number.isFinite(n)?e.at(n<0?-n-1:n):e[t]},set:function(){throw"This object is read-only!"}})}function v(e){return"function"==typeof e.subscribe}function m(e){var t=y.createEventSource();return e.subscribe(function(e){y.fireEvent(t.emitter,e)}),t.source}var _=(S.prototype.notify=function(t){this.arr.forEach(function(e){e&&e(t)})},S.prototype.add=function(e){for(var t=0;t<this.arr.length;++t)if(null==this.arr[t])return this.arr[t]=e,t;return this.arr.push(e),this.arr.length-1},S.prototype.remove=function(e){this.arr[e]=null},S);function S(){this.arr=[]}var P=(O.prototype.subscribe=function(e){var t=this.listeners.add(e),n=this;return{unsubscribe:function(){n.listeners.remove(t)}}},O.prototype.notify=function(e){this.listeners.notify(e)},O=i([o.internal],O));function O(){this.listeners=new _}var T=(x.prototype.unsubscribe=function(){this._sub.unsubscribe()},i([o.nonenumerable],x.prototype,"_sub",void 0),x);function x(e){this._sub=e.unsubscribe?e:{unsubscribe:function(){y.unsubscribe(e)}}}var V=(j.prototype.map=function(e){return new F(this,e)},j);function j(){}var B,L=(n(A,B=V),A.prototype.subscribe=function(e){return this.source.subscribe(e)},A.prototype.getNativeRef=function(){return m(this.source)},A);function A(e){var t=B.call(this)||this;return t.source=e,t}var R,q=(n(E,R=V),E.prototype.subscribe=function(e){var t=y.subscribe(this.ref,e);return{unsubscribe:function(){y.unsubscribe(t)}}},E.prototype.getNativeRef=function(){return this.ref},E);function E(e){var t=R.call(this)||this;return t.ref=e,t}var k,F=(n(D,k=V),D.prototype.subscribe=function(n){var r=this;return this.source.subscribe(function(e){var t=r.mapFn(e);void 0!==t&&n(t)})},D.prototype.getNativeRef=function(){return y.mapEvents(this.source.getNativeRef(),this.mapFn)},D.prototype.map=function(n){var r=this;return new D(this.source,function(e){var t=r.mapFn(e);return void 0===t?t:n(t)})},D);function D(e,t){var n=k.call(this)||this;return n.source=e,n.mapFn=t,n}var M,N=(n(z,M=a),Object.defineProperty(z.prototype,"_ref",{get:function(){var e;return null!=(e=this._cachedRef)?e:this._cachedRef=this._impl.getNativeRef()},enumerable:!0,configurable:!0}),z.prototype.subscribe=function(e){return new T(this._impl.subscribe(e))},z.prototype.subscribeOnNext=function(e){return this.subscribe(e)},z.prototype.subscribeWithSnapshot=function(e,t){return new T(y.subscribeWithSnapshot(this._ref,o.utils.mapObjectValues(e,f),t))},z.prototype.select=function(t){return C(this,function(e){return e[t]})},z.prototype.take=function(e){return new z(y.take(this._ref,e))},z.prototype.skip=function(e){return new z(y.skip(this._ref,e))},z.prototype.merge=function(e){return new z(y.merge(this._ref,f(e)))},z.prototype.holdAsScalar=function(){return new re(y.scalarEventToSignal(this._ref))},z.prototype.holdAsString=function(){return new J(y.stringEventToSignal(this._ref))},z.prototype.toggle=function(e){return new U(y.eventToToggleSignal(this._ref,null!=e&&e))},z._signalType=3,i([o.internal,o.nonenumerable],z.prototype,"_impl",void 0),i([o.nonenumerable],z.prototype,"_cachedRef",void 0),i([o.internal,o.nonenumerable],z.prototype,"_ref",null),i([o.deprecatedAndRemovedBy(3623664e3,1376857128,"Use EventSource.subscribe().")],z.prototype,"subscribeOnNext",null),i([o.capability("internalScriptingEventStream")],z.prototype,"merge",null),i([o.capability("internalScriptingEventStream")],z.prototype,"holdAsScalar",null),i([o.capability("internalScriptingEventStream")],z.prototype,"holdAsString",null),i([o.capability("internalScriptingEventStream")],z.prototype,"toggle",null),i([o.internal],z,"_signalType",void 0),z);function z(e){var t=M.call(this)||this;return e instanceof V?t._impl=e:v(e)?t._impl=new L(e):t._impl=new q(e),t}function C(e,t){return v(e)?new N(e instanceof N?e._impl.map(t):new L(e).map(t)):new N(y.mapEvents(f(e),t))}var W,H,I=o.getNativeModule("VisualScripting"),U=(n(Q,W=c),(H=Q).prototype.monitor=function(e){var t;return new N(y.monitorBool(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t,null))},Q.prototype.delay=function(){return new H(y.delayBool(this._ref))},Q.prototype.onOn=function(e){var t;return new N(y.monitorBool(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t,!0))},Q.prototype.onOff=function(e){var t;return new N(y.monitorBool(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t,!1))},Object.defineProperty(Q.prototype,"lastValue",{get:function(){return y.getLastValueBool(this._ref)},enumerable:!0,configurable:!0}),Q.prototype.eq=function(e){return new H(y.eq(this._ref,f(e)))},Q.prototype.ne=function(e){return new H(y.not(y.eq(this._ref,f(e))))},Q.prototype.not=function(){return new H(y.not(this._ref))},Q.prototype.xor=function(e){return this.ne(e)},Q.prototype.pin=function(){return new H(y.pinBool(this._ref))},Q.prototype.pinLastValue=function(){return y.getLastValueBool(this._ref)},Q.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new H(e)})},Q.prototype.or=function(e){return new H(I.invokeComponentAction("builtin.binaryBoolOrOperator",[this._ref,f(e)],{}))},Q.prototype.and=function(e){return new H(I.invokeComponentAction("builtin.binaryBoolAndOperator",[this._ref,f(e)],{}))},Q.prototype.ifThenElse=function(e,t){return ft(st(e),I.invokeComponentAction("builtin.IfThenElseOperator",[this._ref,f(e),f(t)],{}))},Q._signalType=0,i([o.capability("internalScriptingDelay")],Q.prototype,"delay",null),i([o.deprecatedAndRemovedBy(3623664e3,3538561716,"Please use `pinLastValue()` instead to receive a `ConstSignal` as a replacement for `lastValue`")],Q.prototype,"lastValue",null),i([o.internal],Q,"_signalType",void 0),Q=H=i([o.extensible],Q));function Q(){return null!==W&&W.apply(this,arguments)||this}var G=(Object.defineProperty(X.prototype,"signal",{get:function(){return new U(y.getBoolSourceSignal(this._id))},enumerable:!0,configurable:!0}),X.prototype.set=function(e){y.setBoolSourceSignal(this._id,f(e))},X.prototype.dispose=function(){y.disposeNativeSourceSignal(this._id)},X=i([o.introducedBy(1489134519),o.capability("scriptingWriteableSignalSource"),o.extensible],X));function X(e){this._id=e}var Y,Z,J=(n(K,Y=c),Z=K,Object.defineProperty(K.prototype,"lastValue",{get:function(){return y.getLastValueString(this._ref)},enumerable:!0,configurable:!0}),K.prototype.monitor=function(e){var t;return new N(y.monitorString(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t))},K.prototype.delay=function(){return new Z(y.delayString(this._ref))},K.prototype.pin=function(){return new Z(y.pinString(this._ref))},K.prototype.pinLastValue=function(){return y.getLastValueString(this._ref)},K.prototype.eq=function(e){return new U(y.eq(this._ref,f(e)))},K.prototype.ne=function(e){return new U(y.not(y.eq(this._ref,f(e))))},K.prototype.concat=function(e){return new Z(y.concat(this._ref,f(e)))},K.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new Z(e)})},K.prototype.contains=function(e){return new U(y.contains(this._ref,f(e)))},K._signalType=11,i([o.deprecatedAndRemovedBy(3623664e3,3538561716,"Please use `pinLastValue()` instead to receive a `ConstSignal` as a replacement for `lastValue`")],K.prototype,"lastValue",null),i([o.capability("internalScriptingDelay")],K.prototype,"delay",null),i([o.introducedBy(846615023)],K.prototype,"contains",null),i([o.internal],K,"_signalType",void 0),K=Z=i([o.extensible],K));function K(){return null!==Y&&Y.apply(this,arguments)||this}var $=(Object.defineProperty(ee.prototype,"signal",{get:function(){return new J(y.getStringSourceSignal(this._id))},enumerable:!0,configurable:!0}),ee.prototype.set=function(e){y.setStringSourceSignal(this._id,f(e))},ee.prototype.dispose=function(){y.disposeNativeSourceSignal(this._id)},ee=i([o.introducedBy(1489134519),o.capability("scriptingWriteableSignalSource"),o.extensible],ee));function ee(e){this._id=e}var te,ne,re=(n(oe,te=c),(ne=oe).prototype.monitor=function(e){var t;return new N(y.monitorScalar(this._ref,null!=(t=null==e?void 0:e.fireOnInitialValue)&&t))},oe.prototype.delay=function(){return new ne(y.delayScalar(this._ref))},Object.defineProperty(oe.prototype,"lastValue",{get:function(){return y.getLastValueScalar(this._ref)},enumerable:!0,configurable:!0}),oe.prototype.lt=function(e){return new U(y.lt(this._ref,f(e)))},oe.prototype.gt=function(e){return new U(y.gt(this._ref,f(e)))},oe.prototype.le=function(e){return new U(y.le(this._ref,f(e)))},oe.prototype.ge=function(e){return new U(y.ge(this._ref,f(e)))},oe.prototype.eq=function(e){return new U(y.eq(this._ref,f(e)))},oe.prototype.ne=function(e){return new U(y.not(y.eq(this._ref,f(e))))},oe.prototype.pin=function(){return new ne(y.pinScalar(this._ref))},oe.prototype.pinLastValue=function(){return y.getLastValueScalar(this._ref)},oe.prototype.trigger=function(e){return new N(y.trigger(this._ref,e))},oe.prototype.multiTrigger=function(e){return new N(y.multiTrigger(this._ref,e))},oe.prototype.schmittTrigger=function(e){var t;if(e.low>e.high)throw"Upper bound value must be greater or equal than lower bound in `ScalarSignal.shmittTrigger`.";return new U(y.schmittTrigger(this._ref,e.low,e.high,null!=(t=e.initialValue)&&t))},oe.prototype.interval=function(e){return new N(y.interval(this._ref,e))},oe.prototype.toString=function(){return new J(y.toString(this._ref))},oe.prototype.format=function(e){return new J(y.format(this._ref,e))},oe.prototype.expSmooth=function(e){return new ne(y.expSmooth(this._ref,e))},oe.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new ne(e)})},oe._signalType=10,i([o.capability("internalScriptingDelay")],oe.prototype,"delay",null),i([o.deprecatedAndRemovedBy(3623664e3,3538561716,"Please use `pinLastValue()` instead to receive a `ConstSignal` as a replacement for `lastValue`")],oe.prototype,"lastValue",null),i([o.internal],oe,"_signalType",void 0),oe=ne=i([o.extensible],oe));function oe(){return null!==te&&te.apply(this,arguments)||this}var ie=(Object.defineProperty(ue.prototype,"signal",{get:function(){return new re(y.getScalarSourceSignal(this._id))},enumerable:!0,configurable:!0}),ue.prototype.set=function(e){y.setScalarSourceSignal(this._id,f(e))},ue.prototype.dispose=function(){y.disposeNativeSourceSignal(this._id)},ue=i([o.introducedBy(1489134519),o.capability("scriptingWriteableSignalSource"),o.extensible],ue));function ue(e){this._id=e}function ae(e,t,n,r){return o.getModule("Reactive").pack4(e,t,n,r)}function pe(e){return"number"==typeof e?new re(y.scalarVal(e)):e}function le(e){return de(y.hsvaToRgba(f(e._components[0]),f(e._components[1]),f(e._components[2]),f(e._components[3])))}function ce(){}var se,fe=(n(ye,se=ce),ye.prototype.toHSVA=function(){var e=y.rgbaToHsva(f(this.red),f(this.green),f(this.blue),f(this.alpha));return new he(new re(e[0]),new re(e[1]),new re(e[2]),new re(e[3]))},ye.prototype.toVec4=function(){return ae(this.red,this.green,this.blue,this.alpha)},ye.prototype.pinLastValue=function(){return de([y.pinLastValueSignal(f(this.red)),y.pinLastValueSignal(f(this.green)),y.pinLastValueSignal(f(this.blue)),y.pinLastValueSignal(f(this.alpha))])},ye);function ye(e,t,n,r){var o=se.call(this)||this;return o.red=pe(e),o.green=pe(t),o.blue=pe(n),o.alpha=pe(r),o}var ge,he=(n(be,ge=ce),Object.defineProperty(be.prototype,"hue",{get:function(){return this._components[0]},enumerable:!0,configurable:!0}),Object.defineProperty(be.prototype,"saturation",{get:function(){return this._components[1]},enumerable:!0,configurable:!0}),Object.defineProperty(be.prototype,"brightness",{get:function(){return this._components[2]},enumerable:!0,configurable:!0}),Object.defineProperty(be.prototype,"alpha",{get:function(){return this._components[3]},enumerable:!0,configurable:!0}),be.prototype.toRGBA=function(){return le(this)},be.prototype.toVec4=function(){return ae(this.hue,this.saturation,this.brightness,this.alpha)},be.prototype.pinLastValue=function(){return new be(new re(y.pinLastValueSignal(f(this.hue))),new re(y.pinLastValueSignal(f(this.saturation))),new re(y.pinLastValueSignal(f(this.brightness))),new re(y.pinLastValueSignal(f(this.alpha))))},i([o.internal,o.nonenumerable],be.prototype,"_components",void 0),be);function be(e,t,n,r){var o=ge.call(this)||this;return o._components=[pe(e),pe(t),pe(n),pe(r)],o}function de(e){return new fe(new re(e[0]),new re(e[1]),new re(e[2]),new re(e[3]))}function we(e,t){return new re(y.getVec3Prop(e,t))}function ve(e,t){return new re(y.getPoint3Prop(e,t))}function me(e,t){return new re(y.getPoint4Prop(e,t))}function _e(e,t){return new re(y.getPoint2Prop(e,t))}var Se,Pe,Oe=(n(Te,Se=c),Pe=Te,Object.defineProperty(Te.prototype,"x",{get:function(){return we(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"y",{get:function(){return we(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"z",{get:function(){return we(this._ref,2)},enumerable:!0,configurable:!0}),Te.prototype.expSmooth=function(e){return new Pe(y.expSmooth(this._ref,e))},Te.prototype.pinLastValue=function(){return new Pe(y.pinLastValueSignal(this._ref))},Te.prototype.history=function(e){return w(this,e,[],function(e){return new Pe(e)})},Te.prototype.rotate=function(e){var t=new Ce(y.quaternion(0,f(this.x),f(this.y),f(this.z))),n=e.mul(t).mul(e.conjugate());return new Pe(y.vector(f(n.x),f(n.y),f(n.z)))},Te._signalType=13,i([o.introducedBy(778391558)],Te.prototype,"rotate",null),i([o.internal],Te,"_signalType",void 0),Te=Pe=i([o.extensible],Te));function Te(e){var t=Se.call(this,e)||this;if(t._ref._signalType&&13!==t._ref._signalType())throw"VectorSignal created with incorrect native ref: "+e._signalType();return t}var xe,Ve,je=(n(Be,xe=c),Ve=Be,Object.defineProperty(Be.prototype,"x",{get:function(){return ve(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"y",{get:function(){return ve(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"z",{get:function(){return ve(this._ref,2)},enumerable:!0,configurable:!0}),Be.prototype.expSmooth=function(e){return new Ve(y.expSmooth(this._ref,e))},Be.prototype.pinLastValue=function(){return new Ve(y.pinLastValueSignal(this._ref))},Be.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new Ve(e)})},Be._signalType=4,i([o.internal],Be,"_signalType",void 0),Be=Ve=i([o.extensible],Be));function Be(e){var t=xe.call(this,e)||this;if(t._ref._signalType&&4!==t._ref._signalType())throw"PointSignal created with incorrect native ref: "+e._signalType();return t}var Le,Ae,Re=(n(qe,Le=c),Ae=qe,Object.defineProperty(qe.prototype,"x",{get:function(){return _e(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"width",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"y",{get:function(){return _e(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"height",{get:function(){return this.y},enumerable:!0,configurable:!0}),qe.prototype.pinLastValue=function(){return new Ae(y.pinLastValueSignal(this._ref))},qe.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new Ae(e)})},qe._signalType=5,i([o.internal],qe,"_signalType",void 0),qe=Ae=i([o.extensible],qe));function qe(){return null!==Le&&Le.apply(this,arguments)||this}var Ee,ke,Fe=(n(De,Ee=c),ke=De,Object.defineProperty(De.prototype,"x",{get:function(){return me(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"y",{get:function(){return me(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"z",{get:function(){return me(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"w",{get:function(){return me(this._ref,3)},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"top",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"left",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"bottom",{get:function(){return this.z},enumerable:!0,configurable:!0}),Object.defineProperty(De.prototype,"right",{get:function(){return this.w},enumerable:!0,configurable:!0}),De.prototype.toRGBA=function(){return new fe(this.x,this.y,this.z,this.w)},De.prototype.toHSVA=function(){return new he(this.x,this.y,this.z,this.w)},De.prototype.pinLastValue=function(){return new ke(y.pinLastValueSignal(this._ref))},De.prototype.history=function(e){return w(this,e,[],function(e){return new ke(e)})},De._signalType=6,i([o.internal],De,"_signalType",void 0),De=ke=i([o.extensible],De));function De(){return null!==Ee&&Ee.apply(this,arguments)||this}var Me=function(e,t,n,r){this.w=e,this.x=t,this.y=n,this.z=r};function Ne(e,t){return new re(y.getQuaternionProp(e,t))}var ze,Ce=(n(We,ze=c),Object.defineProperty(We.prototype,"eulerAngles",{get:function(){return new je(y.quaternionToEuler(this._ref))},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"x",{get:function(){return Ne(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"y",{get:function(){return Ne(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"z",{get:function(){return Ne(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(We.prototype,"w",{get:function(){return Ne(this._ref,3)},enumerable:!0,configurable:!0}),We.prototype.conjugate=function(){return new We(y.quaternionSignalConjugate(this._ref))},We.prototype.invert=function(){return this.conjugate()},We.prototype.angleAxis=function(){return new Fe(y.angleAxisSignalFromQuaternion(this._ref))},We.prototype.mix=function(e,t){return new We(y.quaternionMixSignal(this._ref,f(e),f(t)))},We.prototype.slerp=function(e,t){return new We(y.quaternionSlerpSignal(this._ref,f(e),f(t)))},We.prototype.dot=function(e){return new re(y.quaternionSignalDot(this._ref,f(e)))},We.prototype.mul=function(e){return new We(y.quaternionMultiplySignal(this._ref,f(e)))},We.prototype.angleTo=function(e){return new re(y.angleSignalBetweenQuaternions(this._ref,f(e)))},We.prototype.pinLastValue=function(){return new We(y.pinLastValueSignal(this._ref))},We.prototype.history=function(e,t){return w(this,e,null!=t?t:[],function(e){return new We(e)})},We._signalType=8,i([o.internal],We,"_signalType",void 0),We);function We(){return null!==ze&&ze.apply(this,arguments)||this}function He(e,t){return new re(y.getTransformProp(e,t))}var Ie,Ue,Qe=(n(Ge,Ie=c),(Ue=Ge).prototype.lookAt=function(e,t){return new Ue(y.lookAt(this._ref,f(e),f(null!=t?t:y.vector(0,1,0))))},Object.defineProperty(Ge.prototype,"x",{get:function(){return He(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"y",{get:function(){return He(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"z",{get:function(){return He(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"rotationX",{get:function(){return He(this._ref,3)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"rotationY",{get:function(){return He(this._ref,4)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"rotationZ",{get:function(){return He(this._ref,5)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return new Ce(y.getTransformProp(this._ref,10))},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return He(this._ref,6)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return He(this._ref,7)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"scaleZ",{get:function(){return He(this._ref,8)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"position",{get:function(){return new je(y.getTransformProp(this._ref,9))},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.prototype,"scale",{get:function(){return new je(y.getTransformProp(this._ref,11))},enumerable:!0,configurable:!0}),Ge.prototype.inverse=function(){return new Ue(y.inverseTransform(this._ref))},Ge.prototype.transpose=function(){return new Ue(y.transpose(this._ref))},Ge.prototype.applyTo=function(e){if(!o.version.hasChange(2834250929)){if(e instanceof je)return o.deprecationLogger(3623664e3,2834250929,"TransformSignal.applyTo() with PointSignal argument is deprecated. Please use applyToPoint() instead.").logOnce(),new je(y.applyTransformToPoint(this._ref,f(e)));if(e instanceof Oe)return o.deprecationLogger(3623664e3,2834250929,"TransformSignal.applyTo() with VectorSignal argument is deprecated. Please use applyToVector() instead.").logOnce(),new Oe(y.applyTransformToVector(this._ref,f(e)))}return new Ue(y.applyTransform(this._ref,f(e)))},Ge.prototype.applyToPoint=function(e){return new je(y.applyTransformToPoint(this._ref,f(e)))},Ge.prototype.applyToVector=function(e){return new Oe(y.applyTransformToVector(this._ref,f(e)))},Ge.prototype.expSmooth=function(e){return new Ue(y.expSmooth(this._ref,e))},Ge.prototype.pinLastValue=function(){return new Ue(y.pinLastValueSignal(this._ref))},Ge.prototype.history=function(e){return w(this,e,[],function(e){return new Ue(e)})},Ge._signalType=12,i([o.internal],Ge,"_signalType",void 0),Ge=Ue=i([o.extensible],Ge));function Ge(){return null!==Ie&&Ie.apply(this,arguments)||this}function Xe(e,t){return new re(y.getBox2DProp(e,t))}var Ye,Ze=(n(Je,Ye=c),Object.defineProperty(Je.prototype,"x",{get:function(){return Xe(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"y",{get:function(){return Xe(this._ref,1)},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"width",{get:function(){return Xe(this._ref,2)},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"height",{get:function(){return Xe(this._ref,3)},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"center",{get:function(){return new Re(y.getBox2DProp(this._ref,4))},enumerable:!0,configurable:!0}),Je.prototype.history=function(e){return w(this,e,[],function(e){return new Je(e)})},Je._signalType=1,i([o.internal],Je,"_signalType",void 0),Je);function Je(){return null!==Ye&&Ye.apply(this,arguments)||this}function Ke(e,t){return new je(y.getBox3DProp(e,t))}var $e,et=(n(tt,$e=c),Object.defineProperty(tt.prototype,"min",{get:function(){return Ke(this._ref,0)},enumerable:!0,configurable:!0}),Object.defineProperty(tt.prototype,"max",{get:function(){return Ke(this._ref,1)},enumerable:!0,configurable:!0}),tt._signalType=2,i([o.internal],tt,"_signalType",void 0),tt=i([o.introducedBy(4200001050)],tt));function tt(){return null!==$e&&$e.apply(this,arguments)||this}var nt,rt,ot=(n(it,nt=c),rt=it,Object.defineProperty(it.prototype,"x",{get:function(){return new rt(y.getShaderProp(this._ref,0))},enumerable:!0,configurable:!0}),Object.defineProperty(it.prototype,"y",{get:function(){return new rt(y.getShaderProp(this._ref,1))},enumerable:!0,configurable:!0}),Object.defineProperty(it.prototype,"z",{get:function(){return new rt(y.getShaderProp(this._ref,2))},enumerable:!0,configurable:!0}),Object.defineProperty(it.prototype,"w",{get:function(){return new rt(y.getShaderProp(this._ref,3))},enumerable:!0,configurable:!0}),it.prototype.history=function(e){return w(this,e,[],function(e){return new rt(e)})},it._signalType=9,i([o.internal],it,"_signalType",void 0),it=rt=i([o.extensible],it));function it(){return null!==nt&&nt.apply(this,arguments)||this}var ut,at=(n(pt,ut=c),pt.prototype.history=function(e){return w(this,e,[],function(e){return new pt(e)})},pt._signalType=7,i([o.internal],pt,"_signalType",void 0),pt);function pt(){return null!==ut&&ut.apply(this,arguments)||this}function lt(e,t){this.x=e,this.y=t}function ct(e,t,n){this.x=e,this.y=t,this.z=n}function st(e){if(null==e)throw"invalid argument to signalType(): "+e;switch(typeof e){case"number":return 10;case"string":return 11;case"boolean":return 0;default:var t=e.constructor;if(null==t._signalType)throw"invalid argument to signalType: missing _signalType prop";return t._signalType}}function ft(e,t){switch(e){case 0:return new U(t);case 1:return new Ze(t);case 2:return new et(t);case 3:return new N(t);case 7:return new at(t);case 8:return new Ce(t);case 10:return new re(t);case 9:return new ot(t);case 11:return new J(t);case 12:return new Qe(t);case 4:return new je(t);case 5:return new Re(t);case 6:return new Fe(t);case 13:return new Oe(t)}}var yt=(gt.prototype.signalHistory=function(e,t,n){return w(e,t,n)},gt.prototype.lookAt=function(e,t,n){return new Qe(y.lookAt(f(e),f(t),f(null!=n?n:this.vector(0,1,0))))},gt.prototype.once=function(){return new N(y.once())},gt.prototype.monitorMany=function(e,t){var n;return new N(y.monitorMany(o.utils.mapObjectValues(e,f),null!=(n=null==t?void 0:t.fireOnInitialValue)&&n))},gt.prototype.rotation=function(e,t,n,r){return new Me(e,t,n,r)},gt.prototype.val=function(e){switch(typeof e){case"number":return new re(y.scalarVal(e));case"string":return new J(y.stringVal(e));case"boolean":return new U(y.boolVal(e));default:throw"Unexpected argument to Reactive::val"}},gt.prototype.boundingBox=function(e,t,n,r){return new Ze(y.box2DSignal(f(e),f(t),f(n),f(r)))},gt.prototype.box2d=function(e,t,n,r){return this.boundingBox(e,t,n,r)},gt.prototype.box3d=function(e,t){return new et(y.box3DSignal(f(e),f(t)))},gt.prototype.sumList=function(e){return new re(y.sumList(e.map(f)))},gt.prototype.mulList=function(e){return new re(y.mulList(e.map(f)))},gt.prototype.schmittTrigger=function(e,t){var n;if(t.low>t.high)throw"Upper bound value must be greater or equal than lower bound.";return new U(y.schmittTrigger(f(e),t.low,t.high,null!=(n=t.initialValue)&&n))},gt.prototype.not=function(e){return new U(y.not(f(e)))},gt.prototype.andList=function(e){return new U(y.andList(e.map(f)))},gt.prototype.orList=function(e){return new U(y.orList(e.map(f)))},gt.prototype.xor=function(e,t){return new U(y.not(y.eq(f(e),f(t))))},gt.prototype.xorList=function(e){return new U(y.xorList(e.map(f)))},gt.prototype.lt=function(e,t){return new U(y.lt(f(e),f(t)))},gt.prototype.gt=function(e,t){return new U(y.gt(f(e),f(t)))},gt.prototype.le=function(e,t){return new U(y.le(f(e),f(t)))},gt.prototype.ge=function(e,t){return new U(y.ge(f(e),f(t)))},gt.prototype.eq=function(e,t){return new U(y.eq(f(e),f(t)))},gt.prototype.ne=function(e,t){return new U(y.not(y.eq(f(e),f(t))))},gt.prototype.switch=function(e,t,n){return new J(y.switch(f(e),t,n))},gt.prototype.concat=function(e,t){return new J(y.concat(f(e),f(t)))},gt.prototype.RGBA=function(e,t,n,r){return new fe(e,t,n,r)},gt.prototype.HSVA=function(e,t,n,r){return new he(e,t,n,r)},gt.prototype.point=function(e,t,n){return new je(y.point(f(e),f(t),f(n)))},gt.prototype.point2d=function(e,t){return new Re(y.point2d(f(e),f(t)))},gt.prototype.vector=function(e,t,n){return new Oe(y.vector(f(e),f(t),f(n)))},gt.prototype.scale=function(e,t,n){return new je(y.point(f(e),f(t),f(n)))},gt.prototype.derivative=function(e){return new re(y.derivative(f(e)))},gt.prototype.antiderivative=function(e,t){return new re(y.antiderivative(f(e),t.min,t.max,t.initialValue,u[t.overflowBehaviour]))},gt.prototype.expSmooth=function(e,t){return e instanceof Qe?new Qe(y.expSmooth(e._ref,t)):new re(y.expSmooth(f(e),t))},gt.prototype.quaternionIdentity=function(){return new Ce(y.quaternion(1,0,0,0))},gt.prototype.quaternion=function(e,t,n,r){return new Ce(y.quaternion(f(e),f(t),f(n),f(r)))},gt.prototype.quaternionFromEuler=function(e,t,n){return new Ce(y.quaternionFromEuler(f(e),f(t),f(n)))},gt.prototype.quaternionFromAngleAxis=function(e,t){return new Ce(y.quaternionFromAngleAxis(f(e),f(t)))},gt.prototype.quaternionFromTo=function(e,t){return new Ce(y.quaternionFromVectors(f(e),f(t)))},gt.prototype.quaternionLookAt=function(e,t){return new Ce(y.quaternionLookAt(f(e),f(null!=t?t:y.vector(0,1,0))))},gt.prototype.merge=function(e,t){return new N(y.merge(f(e),f(t)))},gt.prototype.stringSignalSource=function(e){return new $(e)},gt.prototype.scalarSignalSource=function(e){return new ie(e)},gt.prototype.boolSignalSource=function(e){return new G(e)},i([o.enumAccessor],gt.prototype,"AntiderivativeOverflowBehaviour",void 0),i([o.introducedBy(4003088131)],gt.prototype,"boundingBox",null),i([o.introducedBy(660292618)],gt.prototype,"box2d",null),i([o.introducedBy(4200001050)],gt.prototype,"box3d",null),i([o.capability("internalScriptingEventStream")],gt.prototype,"merge",null),i([o.introducedBy(1489134519),o.capability("scriptingWriteableSignalSource")],gt.prototype,"stringSignalSource",null),i([o.introducedBy(1489134519),o.capability("scriptingWriteableSignalSource")],gt.prototype,"scalarSignalSource",null),i([o.introducedBy(1489134519),o.capability("scriptingWriteableSignalSource")],gt.prototype,"boolSignalSource",null),gt=i([o.scriptingModule("Reactive"),o.availableIn(o.DocumentType.Any),o.extensible],gt));function gt(){this.AntiderivativeOverflowBehaviour=e.AntiderivativeOverflowBehaviour}return e.BoolSignal=U,e.Box2DSignal=Ze,e.Box3DSignal=et,e.ColorSignal=ce,e.EventSource=N,e.EventSourceHistory=b,e.HsvaSignal=he,e.ISignal=a,e.Observable=P,e.Point2D=lt,e.Point3D=ct,e.PointSignal=je,e.PrimitiveOrShaderSignal=at,e.QuaternionSignal=Ce,e.ReactiveModule=yt,e.RgbaSignal=fe,e.Rotation=Me,e.ScalarSignal=re,e.ShaderSignal=ot,e.SignalHistory=g,e.StringSignal=J,e.StringSignalSource=$,e.Subscription=T,e.TransformSignal=Qe,e.Vec2Signal=Re,e.Vec4Signal=Fe,e.VectorSignal=Oe,e.createNativeEventSource=m,e.eventSourceToPromise=function(e){return new Promise(function(n,r){(e instanceof N?e:new N(e)).subscribe(function(e){var t;e.success?n(e.value):r(null!=(t=e.error)?t:"EventSource returned an error")})})},e.getBox3DProp=Ke,e.getReactiveModule=function(){return o.getModule("Reactive")},e.hsvaFromVec4=function(e){return new he(e.x,e.y,e.z,e.w)},e.mapEventSource=C,e.ref=f,e.rgbaFromBgra=function(e){return de(y.bgraToRgba(f(e)))},e.rgbaFromNative=de,e.rgbaFromVec4=function(e){return new fe(e.x,e.y,e.z,e.w)},e.signal=function(e){if(null==e._signalType)throw"signal: missing _signalType";return ft(e._signalType(),e)},e.signalType=st,e.toBgrxSignal=function(e){if(e instanceof he)return new re(y.hsvaToBgrx(f(e._components[0]),f(e._components[1]),f(e._components[2]),f(e._components[3])));if(e instanceof fe)return new re(y.rgbaToBgrx(f(e.red),f(e.green),f(e.blue),f(e.alpha)));throw"unexpected color parameter"},e.toRgba=function(e){return e instanceof fe?e:le(e)},e.wrapSignal=ft,e}({},arfx);